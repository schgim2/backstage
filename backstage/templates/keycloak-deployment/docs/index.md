# Keycloak Identity Management Template

엔터프라이즈급 Keycloak 신원 관리 시스템 배포를 위한 완전한 템플릿입니다.

## 개요

이 템플릿은 고가용성, 확장성, 보안성을 갖춘 Keycloak 클러스터를 배포할 수 있도록 설계되었습니다.

### 주요 기능

- **고가용성**: 다중 인스턴스 클러스터링
- **데이터베이스 지원**: PostgreSQL, MySQL, MariaDB
- **SSL/TLS**: 완전한 암호화 통신
- **커스텀 테마**: 브랜딩 및 UI 커스터마이징
- **모니터링**: Prometheus 메트릭 및 Grafana 대시보드
- **백업**: 자동 데이터베이스 백업
- **확장성**: 수평적 확장 지원

### 지원 기능

- **인증 프로토콜**: OAuth 2.0, OpenID Connect, SAML 2.0
- **소셜 로그인**: Google, Facebook, GitHub 등
- **다중 인증**: TOTP, SMS, 이메일 인증
- **사용자 관리**: 사용자, 그룹, 역할 관리
- **클라이언트 관리**: 애플리케이션 등록 및 관리

## 아키텍처

```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   Load Balancer │    │   Ingress       │    │   Cert Manager  │
│   (External)    │───►│   Controller    │◄───│   (SSL/TLS)     │
└─────────────────┘    └─────────────────┘    └─────────────────┘
                                │
                                ▼
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│  Keycloak Pod 1 │    │  Keycloak Pod 2 │    │  Keycloak Pod 3 │
│  (Auth Server)  │◄──►│  (Auth Server)  │◄──►│  (Auth Server)  │
└─────────────────┘    └─────────────────┘    └─────────────────┘
         │                       │                       │
         └───────────────────────┼───────────────────────┘
                                 ▼
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   PostgreSQL    │    │   Redis Cache   │    │   Monitoring    │
│   (Primary DB)  │◄──►│   (Sessions)    │    │   (Prometheus)  │
└─────────────────┘    └─────────────────┘    └─────────────────┘
```

## 배포 옵션

### 단일 인스턴스 (개발/테스트)
- 1개 Keycloak 인스턴스
- 내장 H2 데이터베이스
- 기본 테마
- 최소 리소스 요구사항

### 고가용성 클러스터 (프로덕션)
- 3개 이상 Keycloak 인스턴스
- 외부 PostgreSQL 데이터베이스
- Redis 세션 캐시
- 커스텀 테마 지원
- 모니터링 및 알림

## 빠른 시작

1. **템플릿 선택**: Backstage에서 "Keycloak Deployment" 템플릿 선택
2. **배포 모드**: 단일 인스턴스 또는 클러스터 선택
3. **데이터베이스**: PostgreSQL, MySQL 등 선택
4. **도메인 설정**: 도메인명 및 SSL 인증서 설정
5. **배포 실행**: 생성된 매니페스트로 배포
6. **초기 설정**: 관리자 계정 생성 및 기본 설정

## 지원 환경

- **Kubernetes**: 권장 프로덕션 환경
- **Docker Compose**: 개발 및 테스트 환경
- **클라우드**: AWS EKS, GCP GKE, Azure AKS

## 보안 기능

- **암호화**: 전송 중 및 저장 시 데이터 암호화
- **인증서 관리**: Let's Encrypt 자동 갱신
- **네트워크 정책**: 트래픽 격리 및 제어
- **시크릿 관리**: Kubernetes Secrets 활용
- **감사 로깅**: 모든 인증 이벤트 로깅

## 다음 단계

- [시작하기](getting-started.md) - 상세한 설치 가이드
- [고가용성](high-availability.md) - 클러스터 구성 방법
- [데이터베이스 설정](database-setup.md) - 외부 DB 연동
- [커스텀 테마](custom-themes.md) - UI 커스터마이징
- [모니터링](monitoring.md) - 메트릭 및 알림 설정
- [보안](security.md) - 보안 강화 방법