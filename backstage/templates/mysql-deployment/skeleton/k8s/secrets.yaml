apiVersion: v1
kind: Secret
metadata:
  name: ${{ values.name }}-credentials
  namespace: ${{ values.namespace }}
  labels:
    app.kubernetes.io/name: ${{ values.name }}
    app.kubernetes.io/component: database
    app.kubernetes.io/part-of: ${{ values.name }}-cluster
type: Opaque
data:
  # Note: These are placeholder values. In production, generate secure passwords
  # and encode them in base64. Example: echo -n 'password' | base64
  mysql-root-password: {{ "changeme-root-password" | b64encode }}
  mysql-password: {{ "changeme-user-password" | b64encode }}
  replication-password: {{ "changeme-replication-password" | b64encode }}

---
{% if values.enableSSL %}
apiVersion: v1
kind: Secret
metadata:
  name: ${{ values.name }}-ssl-certs
  namespace: ${{ values.namespace }}
  labels:
    app.kubernetes.io/name: ${{ values.name }}
    app.kubernetes.io/component: database
    app.kubernetes.io/part-of: ${{ values.name }}-cluster
type: Opaque
data:
  # Note: These are placeholder SSL certificates. In production, generate proper SSL certificates
  # and encode them in base64. Example: cat ca.pem | base64 -w 0
  ca.pem: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
  server-cert.pem: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
  server-key.pem: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCi0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0K
  client-cert.pem: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
  client-key.pem: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCi0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0K
{% endif %}