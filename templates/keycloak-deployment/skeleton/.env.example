# Keycloak Configuration
KEYCLOAK_ADMIN={{ values.adminUser }}
KEYCLOAK_ADMIN_PASSWORD=CHANGE_ME_STRONG_PASSWORD

# Database Configuration (PostgreSQL)
{% if values.databaseType == "postgresql" %}
POSTGRES_DB=keycloak
POSTGRES_USER=keycloak
POSTGRES_PASSWORD=CHANGE_ME_DB_PASSWORD
{% elif values.databaseType == "mysql" %}
MYSQL_ROOT_PASSWORD=CHANGE_ME_ROOT_PASSWORD
MYSQL_DATABASE=keycloak
MYSQL_USER=keycloak
MYSQL_PASSWORD=CHANGE_ME_DB_PASSWORD
{% endif %}

# Hostname Configuration
{% if values.domain %}
KC_HOSTNAME={{ values.domain }}
{% else %}
KC_HOSTNAME=localhost
{% endif %}

# SSL Configuration
{% if values.enableSSL %}
KC_HOSTNAME_STRICT_HTTPS=true
{% else %}
KC_HOSTNAME_STRICT_HTTPS=false
{% endif %}

# Monitoring Configuration
{% if values.enableMonitoring %}
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_GRAFANA_PASSWORD
{% endif %}

# Backup Configuration
{% if values.databaseBackup %}
BACKUP_RETENTION_DAYS=7
WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
{% endif %}

# LDAP Configuration (if enabled)
{% if values.enableLDAP %}
LDAP_URL=ldap://ldap.example.com:389
LDAP_BIND_DN=cn=admin,dc=example,dc=com
LDAP_BIND_PASSWORD=CHANGE_ME_LDAP_PASSWORD
LDAP_USERS_DN=ou=users,dc=example,dc=com
LDAP_GROUPS_DN=ou=groups,dc=example,dc=com
{% endif %}

# Social Login Configuration (if enabled)
{% if values.enableSocialLogin %}
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
FACEBOOK_CLIENT_ID=your-facebook-client-id
FACEBOOK_CLIENT_SECRET=your-facebook-client-secret
{% endif %}

# Vault Configuration (if enabled)
{% if values.enableVault %}
VAULT_TOKEN=your-vault-token
VAULT_URL=https://vault.example.com
VAULT_PATH=secret/keycloak
{% endif %}

# JVM Configuration
JAVA_OPTS_APPEND=-Xms512m -Xmx2048m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m

# Logging Configuration
KC_LOG_LEVEL={{ values.logLevel }}

# Development Settings (only for development mode)
{% if values.deploymentMode == "development" %}
KC_DEV_MODE=true
KC_HOSTNAME_STRICT=false
{% endif %}